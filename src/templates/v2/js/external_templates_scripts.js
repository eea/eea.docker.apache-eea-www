
/* - ga.js - */
var DNT='no';if(navigator.doNotTrack=="yes"||navigator.doNotTrack=="1"||navigator.msDoNotTrack=="1"||window.doNotTrack=="yes"||window.doNotTrack=="1"||window.msDoNotTrack=="1"){DNT='yes'}
var _paq=_paq||[];_paq.push(["setDocumentTitle",document.domain+"/"+document.title]);_paq.push(["setCookieDomain","*.eea.europa.eu"]);_paq.push(['setCustomDimension',2,DNT]);_paq.push(['trackPageView']);_paq.push(['enableLinkTracking']);(function(){var u="https://matomo.eea.europa.eu/";var hn=window.location.host;var sids={"www.eea.europa.eu":"3","semantic.eea.europa.eu":"34","eunis.eea.europa.eu":"35","community.eea.europa.eu":"36","search.apps.eea.europa.eu":"37"};var d=document,sid=d.getElementsByTagName('html')[0].getAttribute('data-siteid')||sids[hn]||'3';_paq.push(['setTrackerUrl',u+'piwik.php']);_paq.push(['setSiteId',sid]);var g=d.createElement('script'),s=d.getElementsByTagName('script')[0];g.type='text/javascript';g.async=true;g.defer=true;g.src=u+'piwik.js';s.parentNode.insertBefore(g,s)})();

/* - ++resource++plone.app.jquerytools.tooltip.js - */
!function($){function getPosition(trigger,tip,conf){var top=conf.relative?trigger.position().top:trigger.offset().top,left=conf.relative?trigger.position().left:trigger.offset().left,pos=conf.position[0];top-=tip.outerHeight()-conf.offset[0],left+=trigger.outerWidth()+conf.offset[1],/iPad/i.test(navigator.userAgent)&&(top-=$(window).scrollTop());var height=tip.outerHeight()+trigger.outerHeight();"center"==pos&&(top+=height/2),"bottom"==pos&&(top+=height),pos=conf.position[1];var width=tip.outerWidth()+trigger.outerWidth();return"center"==pos&&(left-=width/2),"left"==pos&&(left-=width),{top:top,left:left}}function Tooltip(trigger,conf){var tip,shown,self=this,fire=trigger.add(self),timer=0,pretimer=0,title=trigger.attr("title"),tipAttr=trigger.attr("data-tooltip"),effect=effects[conf.effect],isInput=trigger.is(":input"),isWidget=isInput&&trigger.is(":checkbox, :radio, select, :button, :submit"),type=trigger.attr("type"),evt=conf.events[type]||conf.events[isInput?isWidget?"widget":"input":"def"];if(!effect)throw'Nonexistent effect "'+conf.effect+'"';if(evt=evt.split(/,\s*/),2!=evt.length)throw"Tooltip: bad events configuration for "+type;trigger.on(evt[0],function(e){clearTimeout(timer),conf.predelay?pretimer=setTimeout(function(){self.show(e)},conf.predelay):self.show(e)}).on(evt[1],function(e){clearTimeout(pretimer),conf.delay?timer=setTimeout(function(){self.hide(e)},conf.delay):self.hide(e)}),title&&conf.cancelDefault&&(trigger.removeAttr("title"),trigger.data("title",title)),$.extend(self,{show:function(e){if(!tip&&(tipAttr?tip=$(tipAttr):conf.tip?tip=$(conf.tip).eq(0):title?tip=$(conf.layout).addClass(conf.tipClass).appendTo(document.body).hide().append(title):(tip=trigger.find("."+conf.tipClass),tip.length||(tip=trigger.next()),tip.length||(tip=trigger.parent().next())),!tip.length))throw"Cannot find tooltip for "+trigger;if(self.isShown())return self;tip.stop(!0,!0);var pos=getPosition(trigger,tip,conf);if(conf.tip&&tip.html(trigger.data("title")),e=$.Event(),e.type="onBeforeShow",fire.trigger(e,[pos]),e.isDefaultPrevented())return self;pos=getPosition(trigger,tip,conf),tip.css({position:"absolute",top:pos.top,left:pos.left}),shown=!0,effect[0].call(self,function(){e.type="onShow",shown="full",fire.trigger(e)});var event=conf.events.tooltip.split(/,\s*/);return tip.data("__set")||(tip.off(event[0]).on(event[0],function(){clearTimeout(timer),clearTimeout(pretimer)}),event[1]&&!trigger.is("input:not(:checkbox, :radio), textarea")&&tip.off(event[1]).on(event[1],function(e){e.relatedTarget!=trigger[0]&&trigger.trigger(evt[1].split(" ")[0])}),conf.tip||tip.data("__set",!0)),self},hide:function(e){return tip&&self.isShown()?(e=$.Event(),e.type="onBeforeHide",fire.trigger(e),e.isDefaultPrevented()?void 0:(shown=!1,effects[conf.effect][1].call(self,function(){e.type="onHide",fire.trigger(e)}),self)):self},isShown:function(fully){return fully?"full"==shown:shown},getConf:function(){return conf},getTip:function(){return tip},getTrigger:function(){return trigger}}),$.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(i,name){$.isFunction(conf[name])&&$(self).on(name,conf[name]),self[name]=function(fn){return fn&&$(self).on(name,fn),self}})}$.tools=$.tools||{version:"@VERSION"},$.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(name,loadFn,hideFn){effects[name]=[loadFn,hideFn]}};var effects={toggle:[function(done){var conf=this.getConf(),tip=this.getTip(),o=conf.opacity;o<1&&tip.css({opacity:o}),tip.show(),done.call()},function(done){this.getTip().hide(),done.call()}],fade:[function(done){var conf=this.getConf();!/msie/.test(navigator.userAgent.toLowerCase())||conf.fadeIE?this.getTip().fadeTo(conf.fadeInSpeed,conf.opacity,done):(this.getTip().show(),done())},function(done){var conf=this.getConf();!/msie/.test(navigator.userAgent.toLowerCase())||conf.fadeIE?this.getTip().fadeOut(conf.fadeOutSpeed,done):(this.getTip().hide(),done())}]};$.fn.tooltip=function(conf){var api=this.data("tooltip");return api?api:(conf=$.extend(!0,{},$.tools.tooltip.conf,conf),"string"==typeof conf.position&&(conf.position=conf.position.split(/,?\s/)),this.each(function(){api=new Tooltip($(this),conf),$(this).data("tooltip",api)}),conf.api?api:this)}}(jQuery);

/* - slide.js - */
(function($){var langregex1=new RegExp("(http://[a-z0-9.:]*)/(aa|ab|af|am|ar|as|ay|az|ba|be|bg|bh|bi|bn|bo|bs|br|ca|ch|co|cs|cy|da|de|dz|el|en|eo|es|et|eu|fa|fi|fj|fo|fr|fy|ga|gd|gl|gn|gu|gv|ha|he|hi|hr|hu|hy|ia|id|ie|ik|is|it|iu|ja|jbo|jw|ka|kk|kl|km|kn|ko|ks|ku|kw|ky|la|lb|li|ln|lo|lt|lv|mg|mi|mk|ml|mn|mo|mr|ms|mt|my|na|ne|nl|no|nn|oc|om|or|pa|pl|ps|pt|qu|rm|rn|ro|ru|rw|sa|sd|se|sg|sh|si|sk|sl|sm|sn|so|sq|sr|ss|st|su|sv|sw|ta|te|tg|th|ti|tk|tl|tn|to|tr|ts|tt|tw|ug|uk|ur|uz|vi|vo|wa|wo|xh|yi|yo|za|zh|zu)/.*");var langregex2=new RegExp("(http://[a-z0-9.:]*/)(aa|ab|af|am|ar|as|ay|az|ba|be|bg|bh|bi|bn|bo|bs|br|ca|ch|co|cs|cy|da|de|dz|el|en|eo|es|et|eu|fa|fi|fj|fo|fr|fy|ga|gd|gl|gn|gu|gv|ha|he|hi|hr|hu|hy|ia|id|ie|ik|is|it|iu|ja|jbo|jw|ka|kk|kl|km|kn|ko|ks|ku|kw|ky|la|lb|li|ln|lo|lt|lv|mg|mi|mk|ml|mn|mo|mr|ms|mt|my|na|ne|nl|no|nn|oc|om|or|pa|pl|ps|pt|qu|rm|rn|ro|ru|rw|sa|sd|se|sg|sh|si|sk|sl|sm|sn|so|sq|sr|ss|st|su|sv|sw|ta|te|tg|th|ti|tk|tl|tn|to|tr|ts|tt|tw|ug|uk|ur|uz|vi|vo|wa|wo|xh|yi|yo|za|zh|zu)$");
function isCurrentPageTranslated(){var link=document.location.href.toLowerCase();return langregex1.test(link)||langregex2.test(link)}
$(document).ready(function(){var $mini_header=$('body').hasClass('mini-header');
function panel(){var a=$(this);var buttonID=a.parent().attr('id');if(!buttonID){return}
var $tooltip=$('#tip-'+buttonID);if(buttonID==="siteaction-contactus"&&isCurrentPageTranslated()){return}
var article_lang=buttonID==="article-language";var networks_panel=buttonID==="externalsites-networks";var fordef;if($tooltip.length>0){var initial_title=a.attr("title");a.attr("title","").removeAttr("href");fordef='click, blur';a.tooltip({tip:$tooltip[0],position:'bottom center',offset:[0,0],delay:10000000,events:{def:fordef}});a.attr('title',initial_title);a.click(function(ev){ev.preventDefault();var $this=$(this),tooltip=$tooltip[0];var $panels=$('.panel');$panels.each(function(){var $this=$(this);var $id=$this.attr('id');if($id!==""&&$id!==$tooltip.attr('id')){$this.fadeOut('fast')}});if(article_lang){$("#tip-article-language").css({position:'absolute',top:'48px',display:'block',right:'0px',left:''})}
if(networks_panel){$("#tip-externalsites-networks").css('margin-left','2em')}
if($mini_header){var gnav_pos_left=window.Math.floor($("#portal-globalnav").offset().left);var pos_left=window.Math.floor($this.offset().left);var eWidth=$this.outerWidth();var tWidth=$tooltip.outerWidth();var left=pos_left+eWidth-gnav_pos_left-tWidth+"px";if(tooltip.style.left!==left){tooltip.style.left=left}}
$tooltip.fadeIn('fast')})}}
$("#portal-columns, #portal-header").click(function(e){var target=$(e.target);var parents=$('.navbar-header, #content'),panels=parents.find('.panel');if(!target.is('#cross-site-top a,  #cross-site-top .panel, #article-language a')&&!target.parents('.panel').length){panels.fadeOut('fast');$(".eea-navsiteactions-active").removeClass("eea-navsiteactions-active")}});$("#portal-siteactions").addClass('eea-slide-tooltips');$("#portal-externalsites").addClass('eea-slide-tooltips');$("#article-language").addClass('eea-slide-tooltips');$(".externalsites").addClass('eea-slide-tooltips');$("#tip-externalsites-networks").addClass('eea-slide-tooltips');$(".eea-slide-tooltips").find('a').each(panel)})}(jQuery));

/* - global_searchbox.js - */
(function($){$(function(){var search_forms=$("#portal-searchbox, #visual-column-wrapper").find(".searchforms");var text_inputs=search_forms.find("input:text");text_inputs.each( function(){var search_label=this.title+"...";this.onfocus=function(){if(this.value==search_label){this.value=""}};this.onblur=function(){if(this.value===""){this.value=search_label}};this.value=search_label})})})(jQuery);

/* - design.js - */
var _paq=_paq||[];jQuery(document).ready(function($){'use strict';var $viewlet_below_content=$("#viewlet-below-content");var $content=$("#content");var $content_core=$("#content-core");var $column_area=$(".column-area");var $body=$("body");var is_anon=$body.hasClass('userrole-anonymous');var $center_bottom_area=$("#center-bottom-area");var $related_items=$("#relatedItems");var $socialmedia=$("#socialmedia-viewlet");$related_items.appendTo($column_area);$socialmedia.appendTo($column_area);var appendTo=function(context,target){if(context.length){context.appendTo(target)}};appendTo($related_items,$column_area);appendTo($socialmedia,$column_area);if($column_area.length){appendTo($viewlet_below_content,$column_area)}
else{appendTo($viewlet_below_content,$content)}
appendTo($related_items,$center_bottom_area);appendTo($socialmedia,$center_bottom_area);var hide_empty_container=function($el,child_count,$checked_el){var count=child_count||0;var $elem=$checked_el||$el;var $children=$elem.children();if($children.length<=count){$el.hide()}};hide_empty_container($("#plone-document-byline"),1);hide_empty_container($viewlet_below_content,0);var $whatsnew_listing=$(".whatsnew-listing");var $body_content=$(".body-content");hide_empty_container($whatsnew_listing,0,$whatsnew_listing.find('.eea-tabs-panels'));hide_empty_container($body_content,1,$body_content.find('p'));var url_path_name=window.location.pathname;var $code_diff=$("#diffstylecode");if($body.hasClass("portaltype-sparql")&&$code_diff){$code_diff.click()}
var $popup_login=$("#popup_login_form").click(function(e){e.stopPropagation()});var $mini_header=$(".mini-header");if($mini_header.length){(function(){var $portal_header=$("#portal-header");var $cross_site_top=$("#cross-site-top");var $ptools=$("#portal-personaltools-wrapper");var $search=$("#portal-searchbox");var $parent=$("#secondary-globalnav-tips");$body.on('eea-miniheader-toggled', function(){$(".eea-nav-current").toggleClass('eea-nav-inactive')});var make_siteaction_panel=function($content,$parent,panel_id,use_only_children){var $panel=$("<div class='panel' id='"+panel_id+"'>"+"<div class='panel-top'></div>"+"<div class='panel-content shadow'>"+"</div>");var $clone=$content.clone();if(use_only_children){$clone=$clone.children()}
$clone.appendTo($panel.find('.panel-content'));$panel.appendTo($parent)};make_siteaction_panel($search,$parent,'tip-siteaction-search-menu');make_siteaction_panel($popup_login,$parent,'tip-siteaction-login-menu',true);make_siteaction_panel($("#portal-personaltools"),$parent,'tip-siteaction-user-menu',true);$portal_header.addClass("eea-miniheader-element");$ptools.addClass("eea-miniheader-element");$("#portaltab-europe").css('display','none');$("#secondary-portaltabs").find('> li > a').click(function(ev){$('.eea-navsiteactions-active').removeClass('eea-navsiteactions-active');$(ev.target).closest('li').addClass('eea-navsiteactions-active');ev.preventDefault()});$body.on('eea-miniheader-hide', function(){$cross_site_top.hide();$(".portal-logo").hide();$search.hide();$ptools.hide();if(!$portal_header.find('.networkSites').length){$(".networkSites").eq(0).clone().prependTo($portal_header)}});$("#siteaction-networks-menu").find("a").addClass("mini-header-expander")}())}
var air_fiches=$(".portaltype-fiche.section-airs");if(air_fiches.length){(function(){var $fiche_body=$(".fiche-body");var $table=$fiche_body.find('table').eq(0);var $fiche_summary=$(".fiche-summary");if(!$body.hasClass('section-airs subsection-2016')){if(!$fiche_summary.find('.keyFact').find('div').text().trim()){$fiche_summary.addClass('hidden')}} else if($table.length){$table.insertBefore($fiche_summary)}
if($body.hasClass('body-print')){var $iframes=$fiche_body.find('iframe');$iframes.each(function(idx,el){$(el).load(function(idx){var el=idx.target;var src=el.src;if(src.indexOf('embed-chart')!==-1||src.indexOf('embed-dashboard')!==-1){$(el).contents().find('html').addClass('portaltype-fiche section-airs');el.width="100%"}})})}}())}
var collection_air_fiches=$(".template-collection-pdf-body.section-airs");if(collection_air_fiches.length){(function(){var $fiche_bodies=$(".fiche-body");$fiche_bodies.each(function(idx,el){var $el=$(el);var $table=$el.find('table').eq(0);var $fiche_summary=$el.find(".fiche-summary");if($table.length){$table.insertBefore($fiche_summary)}})}())}
var $charts_buttons=$(".google_buttons_bar").find('a');var $document_actions=$(".documentExportActions");var $document_actions_ul=$document_actions.find('ul');if($document_actions_ul.length){$charts_buttons.each(function(idx,el){var $el=$(el);var $wrapped=$el.addClass('pull-left').wrap('<li />').parent();$wrapped.prependTo($document_actions_ul)})}
$("[rel=__ac_name]").click(function(evt){evt.preventDefault();var input=$(this).parent().find("[name='__ac_name']");input.focus()});$("[rel=__ac_password]").click(function(evt){evt.preventDefault();var input=$(this).parent().find("[name='__ac_password']");input.focus()});$body.click(function(){$('#popup_login_form').slideUp()});$(".policy_question").each(function(idx,el){var $el=$(el);var $next_el=$el.next();if($next_el.hasClass('indicator-figure-plus-container')){$el.addClass("page-break-before");$next_el.find('.figure-title').addClass('no-page-break-before')}});var $video_iframe=$("iframe").filter('[src*="video"]'),$video_iframe_src;if($video_iframe){$video_iframe_src=$video_iframe.attr('src');$("<a />",{'class':'video_iframe_for_print visible-print',href:$video_iframe_src,html:"Video link: ["+$video_iframe_src+"]"}).insertBefore($video_iframe)}
$('.eea-tabs').find('li:last-child').addClass('last-child');$("#anon-personalbar, #siteaction-login").click(function(e){$popup_login.slideToggle("slow", function(){$(this).find('[name="__ac_name"]').focus()});e.preventDefault();e.stopPropagation()});var $navigation_submenus=$(".portletSubMenuHeader");if($navigation_submenus&&$navigation_submenus.length<2){$navigation_submenus.hide()}
$('.js-adoptHeight').each(function(){var $el=$(arguments[1]);var $target_el=$($el.data('target-element'));$el.css('height',$target_el.outerHeight())});$(".attention, .caution, .danger, .error, .hint, .important, .note, .tip, .warning").addClass('eea-icon');$(".required:contains('■')").addClass('no-bg');if($("#portlet-prefs").length){$("#portal-column-two").remove();$("#portal-column-content").removeClass('width-3:4').addClass('width-full')}
var r=/data-and-maps\/(figures|data)\/?$/;if(r.test(url_path_name)){$body.addClass('fullscreen');$('#icon-full_screen').parent().remove()}
var $auto_related=$("#auto-related"),$prev=$auto_related.prev(),$dls=$auto_related.find('dl');if($dls.length){$auto_related.detach();$dls.each(function(idx,item){var $item=$(item),$dt=$item.find('dt');$item.find('.portletItem').each(function(idx,item){if(item.className.indexOf('embedded')===-1){$(item).insertAfter($dt)}})});$auto_related.insertAfter($prev)}
function themePromotionPortlets(top_news){var top_news_width=top_news.width();var margin=top_news_width * 0.012,w=Math.floor((top_news_width-5 * margin)/5);var promotions=top_news.find('.portlet-promotions');promotions.width(w);var last=promotions.last();promotions.not(last).css('marginRight',(Math.floor(margin)+3)+'px');last.css({'marginRight':'0px'})}
var top_news=$('#top-news-area');if(top_news.length){themePromotionPortlets(top_news)}
jQuery.fn.avoidMultipleClicks=function(options){var settings={timeout:3000,linkSelector:'a',linkCSS:'downloading',lockCSS:'downloading-lock'};if(options){jQuery.extend(settings,options)}
var self=this;return this.each(function(){self.find(settings.linkSelector).click(function(){var context=$(this);var oldCSS=context.attr('class')||"";settings.linkCSS=oldCSS.split(' ').slice(0,2).join(' ')+settings.linkCSS;context.removeClass();context.addClass(settings.linkCSS);self.addClass(settings.lockCSS);setTimeout(function(){self.removeClass(settings.lockCSS);context.removeClass(settings.linkCSS);context.addClass(oldCSS)},settings.timeout)})})};$('.documentActions .action-items').avoidMultipleClicks();$document_actions.avoidMultipleClicks({linkSelector:'.eea-icon',linkCSS:' eea-icon-download eea-icon-anim-burst animated'});var file_types=['pdf','gif','tif','png','zip','xls','eps','csv','tsv','exhibit','txt','doc','docx','xlsx','table'];
function check_file_type(tokens){var tokens_length=tokens.length;var rought_ext=tokens[tokens_length-1];var guess=rought_ext.split('/')[0];return file_types.indexOf(guess)===-1?'file':guess}
function extract_file_type(url,txt_contents){var url_tokens=url.split('.');var txt_tokens=txt_contents.trim().toLowerCase().split('.');var txt_tokes_outcome=check_file_type(txt_tokens);if(txt_tokes_outcome==='file'){return check_file_type(url_tokens)}
return txt_tokes_outcome}
function capitalize(string){return string.charAt(0).toUpperCase()+string.slice(1)}
function extract_portal_type(){var ptype=$('body').attr('class');if(ptype&&ptype.match('portaltype-[a-z-]*')){ptype=ptype.match('portaltype-[a-z-]*');ptype=ptype[0].split('-');ptype=ptype.length===2?capitalize(ptype[1]):capitalize(ptype[1])+' '+capitalize(ptype[2])}
else{ptype='Unknown'}
return ptype}
var links=document.getElementsByTagName('a');var portal_type=extract_portal_type();
function match_download_links(links){var list=[];var links_length=links.length;var link,link_href;for(var i=0;i<links_length;i++){try{link=links[i];link_href=link.href;if(!link_href.match('eea.europa')){continue}
if(link_href.match("/download[.a-zA-Z]*")||link_href.match("at_download")||link_href.match("/download$")||link_href.match("ftp.eea.europa")){list.push(link)}}
catch(err){window.console.log(err)}}
return list}
var downloads_list=match_download_links(links);
function add_downloads_tracking_code(idx,el){el.onclick=function(){var text=el.textContent||el.innerText;var link=el.href||"download.pdf";var ftype=extract_file_type(link,text);if(window.ga){ga('send','event','Downloads',link,ftype)}
_paq.push(['trackEvent','Downloads',ftype,portal_type,1])};return el}
$.each(downloads_list,add_downloads_tracking_code);var download_pdf=document.getElementById("download");if(download_pdf){add_downloads_tracking_code(0,download_pdf)}
if(window.readCookie&&!window.readCookie('survey_message')){window.createCookie('survey_message','never',365)}
var $right_section_container=$(".eea-right-section");if($right_section_container.length){(function insert_section(){$right_section_container.each(function(idx,el){var $el=$(el),$right_section_slider=$el.prev();if(!$right_section_slider.hasClass('eea-right-section-slider')){$right_section_slider=$('<div class="eea-section eea-right-section-slider eea-scrolling-toggle-visibility"><span class="eea-icon eea-icon-5x eea-icon-caret-left eea-icon-anim-horizontal animated"></span></div>');$right_section_slider.insertBefore($el)}
$right_section_slider.click(function(){var $this=$(this);$this.toggleClass("eea-right-section-slider-active").next().toggleClass("eea-right-section-active eea-scrolling-keep-visible");$this.removeClass("is-eea-hidden");if($this.hasClass("eea-right-section-slider-active")){document.body.style.overflow='hidden';document.body.style.position='fixed'}
else{if(document.body.style.overflow==="hidden"){document.body.style.overflow='auto';document.body.style.position='relative'}}})})})()}
if($('#eea-above-columns').find('#portal-breadcrumbs').length){$('#header-holder').find('.navbar').addClass('hideShadow')}
$(".navbar-toggle").click(function(ev){$(ev.target).toggleClass('collapsed');$(".navbar-collapse").toggleClass('in')});$('#globalstatusmessage').each(function(idx,el){$(el).find("dl:not([class*='eea-icon'])").addClass("eea-icon eea-icon-magic");$(el).fadeIn(200).fadeOut(200).fadeIn(200).fadeOut(200).fadeIn(200).fadeOut(200).fadeIn(200)});var scroll_analytics_enabled=$body.hasClass("scroll-analytics");if(is_anon){(function(){var runOnce;var afterPrint=function(){if(!runOnce){runOnce=true;if(window.ga){window.ga('send','event','Print Action',window.location.host,window.location.href)}
_paq.push(['trackEvent','Reading','print',portal_type,1])}};window.onafterprint=afterPrint;$(document).keydown(function(allBrowsers){if(allBrowsers.keyCode===80&&(allBrowsers.ctrlKey||allBrowsers.metaKey)){afterPrint()}});if(window.matchMedia){var mediaQueryList=window.matchMedia('print');mediaQueryList.addListener(function(mql){if(mql.matches){afterPrint()}})}}())}
if(scroll_analytics_enabled){$content_core.screentimeAnalytics()}});

/* - eea-responsive.js - */
jQuery(document).ready(function($){if(!window.EEA){window.EEA={}}
var $body=$('body');window.EEA.isPrintPdf=$body.hasClass('body-print');var underscore=window._;var $portal_siteactions=$("#portal-siteactions");var doc=document.documentElement;var $secondary_portaltabs=$("#secondary-portaltabs");var throttle=window.underscore?window.underscore.throttle: function(t,e){var n;return function(){var i,o=this,r=arguments;n||(i=function(){n=null,t.apply(o,r)},n=window.setTimeout(i,e))}};var $tabbed_menu;var tabbed_menu_found=false;var $eea_tabs_with_arrows=$('.eea-tabs-arrows'),eea_tabs_with_arrows_found=$eea_tabs_with_arrows.length;
function escapeRegExp(string){return string.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,'\\$1')}
function replaceAll(string,find,replace){return string.replace(new RegExp(escapeRegExp(find),'g'),replace)}
function make_tabs_into_accordions($tab,$tabs_panel){if(!$tabs_panel.length){return}
var css=$tabs_panel.attr('class');if(css){css=replaceAll(css,'eea-tabs-panels','eea-accordion-panels');css=tabbed_menu_found?replaceAll(css,'tabbedmenu-panel','eea-accordion-panels tabbed-accordion-menu'):css;$tabs_panel.attr('class',css)}
$tabs_panel.addClass('collapsed-by-default eea-tabs-transformed');var $tabs_panels=$tabs_panel.find('.eea-tabs-panel');var $tabs_tabs=$tab.find('li');$("#topic-selector").hide();$tabs_tabs.each(function(idx,el){var $panel=$tabs_panels.eq(idx);var $el=$(el);var link=$el.find('a')[0];$panel.attr('class','eea-accordion-panel');if(!$panel.find('.pane').length){$panel.wrapInner("<div class='pane' />")}
$panel.find('.filter-topic').hide();$panel.show();var $accordion_title=$panel.find('.eea-accordion-title');var link_is_current=link.className.indexOf('current')!==-1;if($accordion_title.length){if(link_is_current&&!$accordion_title.hasClass('current')){$tabs_panels.find('.pane').hide();$accordion_title.click()}
return}
var $result=$('<h2 />',{'class':(link&&link.className.indexOf('current')!==-1)?'eea-accordion-title current':'eea-accordion-title',id:link?link.id:'',html:link.innerHTML||el.innerHTML});$result.append('<span class="eea-icon eea-icon-right"></span>');$result.prependTo($panel)});$tab.addClass('js-eea-tabs-to-hide hidden');if(window.EEA&&window.EEA.eea_accordion){window.EEA.eea_accordion($tabs_panel)}}
function make_accordions_into_tabs(){var $tabs_accordion=$('.eea-tabs-transformed');if(!$tabs_accordion.length){return}
$tabs_accordion.each(function(idx,item){var $item=$(item);var css=$item.attr('class');if(css){css=tabbed_menu_found?replaceAll(css,'eea-accordion-panels tabbed-accordion-menu','tabbedmenu-panel'):css;css=replaceAll(css,'eea-accordion-panels','eea-tabs-panels');$item.attr('class',css)}
$item.removeClass('collapsed-by-default eea-tabs-transformed');var $tabs_accordions=$item.find('.eea-accordion-panel');$("#topic-selector").show();$tabs_accordions.each(function(idx,panel){var $panel=$(panel);$panel.find('.filter-topic').show();var $parent=$panel.closest('.eea-tabs-panels');var $tabs=$parent.hasClass('eea-tabs-panels-soer')?$('.eea-tabs-soer'):$panel.parent().prev() ;$panel.attr('class','eea-tabs-panel');if($('h2.current',$panel).length){$tabs.find('a').removeClass('current').eq(idx).addClass('current').click();$panel.show()} else{$panel.hide()}})});$('.js-eea-tabs-to-hide').removeClass('hidden')}
var $buttonnavbar=$('button.navbar-toggle');var $soer_tabs=$('.eea-tabs-soer'),$soer_tabs_found=$soer_tabs.length;var $notransform=$('.eea-tabs-arrows, .eea-tabs-soer');if(underscore&&underscore.debounce){$(window).resize(_.debounce(function(){var $tabs=$('.eea-tabs').not($notransform);var tabs_found=$tabs.length;$(window).trigger('eea_debounced_resize');if($buttonnavbar.css('display')!=='none'){if(tabs_found){$tabs.each(function(idx,tab){var $tab=$(tab);var $tab_panels=$tab.next('.eea-tabs-panels');$tab_panels=$tab_panels.length?$tab_panels:$tab.parent().find('.eea-tabs-panels');make_tabs_into_accordions($tab,$tab_panels)})}
if(tabbed_menu_found){make_tabs_into_accordions($tabbed_menu.find('ul'),$('.tabbedmenu-panel'))}
if(eea_tabs_with_arrows_found){make_tabs_into_accordions($eea_tabs_with_arrows,$('.eea-tabs-panels-arrows'))}
if($soer_tabs_found){make_tabs_into_accordions($soer_tabs,$('.eea-tabs-panels-soer'))}} else{if($soer_tabs||$eea_tabs_with_arrows){make_accordions_into_tabs()}
$tabs.each(function(idx,tab){var $tab=$(tab);var $tab_panels=$tab.next('.eea-tabs-panels');var tabs_multiple_lines=false;$tab_panels=$tab_panels.length?$tab_panels:$tab.parent().find('.eea-tabs-panels');var tabs_first_offset=0;if($tab.hasClass('hidden')){$tab.removeClass('hidden')}
$tab.find('li').each(function(idx,el){if(idx===0){tabs_first_offset=el.offsetTop}
if(el.offsetTop!==tabs_first_offset){tabs_multiple_lines=true;return false}});if(tabs_multiple_lines){$tab.addClass('hidden');make_tabs_into_accordions($tab,$tab_panels)}})}},500))}
$(window).trigger('resize');var $navbar_header=$('.navbar-header');var $portal_logo_link=$('#portal-logo-link');if(!$navbar_header.children('#portal-logo-link-header').length){$portal_logo_link.clone().attr('id','portal-logo-link-header').prependTo($navbar_header)}
var $faceted_left_column=$('#faceted-left-column').addClass('eea-accordion-panels collapsed-by-default non-exclusive');var $faceted_right_column=$('#faceted-right-column').addClass('eea-accordion-panels collapsed-by-default non-exclusive');$faceted_left_column.find('.faceted-widget').addClass('widget-fieldset').appendTo($faceted_right_column);$faceted_right_column.find('.faceted-widget').addClass('widget-fieldset').each(function(idx,el){var $el=$(el);$el.addClass('eea-accordion-panel');var $children=$el.wrapInner('<div class=\'pane\' />');var $legend=$children.find('legend');var $h2=$('<h2 />',{'html':$legend.text(),'class':'eea-accordion-title eea-icon-right-container'});$h2.prependTo($el)});window.setTimeout(function(){$('.eea-right-section-slider').find('.eea-icon').removeClass('animated')},5000);$('#right-area').addClass('eea-section eea-right-section');var $faceted_text_widget=$(".faceted-text-widget");$("<div class='faceted-textwidget-place-current'><a href='#' class='eea-faceted-filter eea-section-trigger eea-section-trigger-right'>Filter »</a></div>").appendTo($faceted_text_widget.find("form"));$('.eea-section-trigger').click(function(e){e.preventDefault();var section=e.target.className.indexOf('trigger-right')?'.eea-right-section':'.eea-left-section';$(section).prev().click()});
function swipeHandler(ev){var left_direction=ev.swipestart.coords[0]>ev.swipestop.coords[0];var $faceted_slider=$(".eea-right-section-slider"),faceted_slider_is_active=$faceted_slider.hasClass("eea-right-section-slider-active"),slider_length=$faceted_slider.length;if(slider_length){if(left_direction&&faceted_slider_is_active||!left_direction&&!faceted_slider_is_active){return}
var time=ev.swipestop.time-ev.swipestart.time;$faceted_slider.removeClass("is-eea-hidden");$(window).scroll();if(window.navigator.userAgent.indexOf('iPhone')!==-1){if(time>60){return}} else{if(time>150){return}}
$faceted_slider.find('.eea-icon').click()}}
$(window).bind("swipe",swipeHandler);var mqOrientation=window.matchMedia&&window.matchMedia('(orientation: portrait)');if(!mqOrientation){return}
var $gis_application=$(".portaltype-gis-application");var $gis_iframe,gis_iframe_resize;if($gis_application){$gis_iframe=$gis_application.find("iframe");if($gis_iframe){gis_iframe_resize=function(){var window_height=$(window).height();if($gis_iframe.height()!==window_height){$gis_iframe.css('height',window_height-50)}};gis_iframe_resize();mqOrientation.addListener(function(){gis_iframe_resize()})}}
var $mini_header=$(".mini-header");if($mini_header.length){(function(){"use strict";var $globalnav_tips=$("<div id='secondary-globalnav-tips' />");$globalnav_tips.appendTo($secondary_portaltabs);$secondary_portaltabs.addClass('eea-slide-tooltips');$portal_siteactions.find('li').each(function(idx,el){var $old_panel=$('#tip-'+el.id);$old_panel.clone().attr('id','tip-'+el.id+'-menu').appendTo($globalnav_tips)})}())}
var mobile_desktop=false;var window_height=window.outerHeight||window.innerHeight;if(window.innerWidth<768&&window_height>768||window.innerWidth>768&&window_height<601){mobile_desktop=true}
window.eea_mobile_desktop_browser_resolution=mobile_desktop;if(window_height>=600&&window.innerWidth>767&&!mobile_desktop){return}
window.eea_mobile_resolution=true;var $nav_collapse=$('#bs-example-navbar-collapse-1');var client_height=doc.clientHeight;
function setMaxHeight(client_height){$nav_collapse.css('max-height',client_height-60)}
setMaxHeight(client_height);
function height(){if(window.navigator.userAgent.indexOf('iPhone')!==-1){return doc.clientHeight} else{return window.outerHeight}}
mqOrientation.addListener(function(){setMaxHeight(height())});var $holder=$('<div class=\'eea-accordion-panels collapsed-by-default non-exclusive\' />');
function turn_cross_panels_into_accordions($el,$holder){var lists=$el.find('li');lists.each(function(idx,el){var $acordion_panel=$('<div  />',{id:el.id,'class':'eea-accordion-panel'});var $el=$(el);var $old_panel=$('#tip-'+el.id);var $panel=$('<div />',{'class':'pane',html:$old_panel.find('.panel-content').html()});var $result=$('<h2 />',{'class':'eea-icon-right-container',html:$el.find('a').text()});$result.appendTo($acordion_panel);$panel.appendTo($acordion_panel);$acordion_panel.appendTo($holder)})}
var $secondary_portaltabs_modified=$('#secondary-portaltabs');if($mini_header.length){(function(){var $global_search=$portal_siteactions.find("#siteaction-search").detach();var $global_network=$portal_siteactions.find("#siteaction-networks").detach()}())}
if(!$secondary_portaltabs_modified.find('.eea-accordion-panels').length){$holder.prependTo($secondary_portaltabs_modified);(function(){var $cross_site_top_panels=$('#portal-externalsites, #portal-siteactions');$cross_site_top_panels.each(function(idx,el){var $el=$(el);turn_cross_panels_into_accordions($el,$holder)})})()}
var lastScrollTop=0;var $header_holder=$('#header-holder');var $navbar=$header_holder.find('.navbar');$navbar.addClass('eea-scrolling-toggle-visibility');var multiple_touch=false;var navbar_content=$header_holder.find('.navbar-collapse')[0];
function TouchMove(ev){var e=ev.originalEvent;multiple_touch=e.touches.length>1}
var lazyTouchMove=throttle(TouchMove,90);$(window).bind("touchmove",lazyTouchMove);var $document=$(document);var win_height=window.innerHeight;var body=document.body;
function navScroll(ev){var doc_height=$document.height();if(window.scrollY+win_height>=doc_height){return}
var targetScrollY=ev.currentTarget.scrollY;if(multiple_touch||(targetScrollY<=0||targetScrollY>=doc_height)){return}
var faceted=document.querySelectorAll('.faceted-results')[0];if(faceted&&faceted.style.opacity){return}
if($buttonnavbar.css('display')==='none'){return}
var $keep_visible=$('.eea-scrolling-keep-visible');var $items=$('.eea-scrolling-toggle-visibility');var st=$(this).scrollTop();if(st>lastScrollTop){$items.each(function(idx,el){if(el.className.indexOf('is-eea-hidden')===-1&&navbar_content.className.indexOf('in')===-1){if(!$keep_visible.length){el.className+=' is-eea-hidden'}}})} else{$items.each(function(idx,el){if(el.className.indexOf('is-eea-hidden')!==-1){el.className=el.className.substr(0,el.className.length-14)}})}
lastScrollTop=st}
var lazyNavScroll=throttle(navScroll,100);$(window).scroll(lazyNavScroll)});